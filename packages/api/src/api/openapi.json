{
  "openapi": "3.0.1",
  "info": {
    "title": "너구디 API",
    "description": "구내식당 플랫폼 API",
    "contact": {
      "name": "너구디 팀",
      "url": "https://nugudi.com",
      "email": "nugudi@gmail.com"
    },
    "version": "1.0.0"
  },
  "servers": [
    { "url": "https://dev.nugudi.com", "description": "개발 서버 (HTTPS)" }
  ],
  "tags": [
    { "name": "사용자 프로필", "description": "유저 프로필 관련 API" },
    {
      "name": "사용자 인증",
      "description": "회원가입, 로그인, 로그아웃 등 인증 관련 API"
    }
  ],
  "paths": {
    "/api/v1/auth/signup/social": {
      "post": {
        "tags": ["사용자 인증"],
        "summary": "소셜 계정 회원가입",
        "description": "소셜 로그인으로 인증에 성공한 신규 회원의 회원가입을 진행합니다.\n\n사용 방법:\n1. 카카오 로그인(/api/v1/auth/login/kakao) 호출\n2. 신규 회원인 경우 202 상태와 함께 registrationToken 수신\n3. X-Registration-Token 헤더에, 받은 토큰을 포함하여 본 API 호출\n4. 필수 정보(닉네임 등)를 요청 바디에 포함\n5. 회원가입 성공 시 accessToken과 refreshToken을 응답 바디로 반환\n\n주의사항:\n- registrationToken은 30분간 유효\n- 토큰 만료 시 카카오 로그인부터 다시 진행",
        "operationId": "signUpSocial",
        "parameters": [
          {
            "name": "X-Registration-Token",
            "in": "header",
            "description": "카카오 로그인 후 받은 임시 회원 등록 토큰 (202 상태코드와 함께 받은 토큰)",
            "required": true,
            "example": "eyJhbGciOiJIUzI1NiJ9..."
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/SignUpSocialRequest" }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponseSignUpResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/signup/local": {
      "post": {
        "tags": ["사용자 인증"],
        "summary": "일반 회원가입",
        "description": "이메일과 비밀번호를 사용한 일반 회원가입을 진행합니다.\n\n회원가입 성공 시:\n- 자동으로 로그인 처리\n- accessToken과 refreshToken을 응답 바디에 반환\n\n반환되는 토큰:\n- accessToken: API 호출 시 Authorization 헤더에 Bearer 형식으로 사용\n- refreshToken: 토큰 갱신 시 사용\n- 사용자 정보 (userId, email, nickname 등)\n\n디바이스 관리:\n- 다중 기기 로그인 지원을 위해 X-Device-ID 헤더를 선택적으로 전송 가능\n- 프론트엔드에서 UUID 생성 후 로컬 스토리지에 저장하여 사용 권장\n\n사전 요구사항:\n- 이메일 인증 완료 (/api/v1/auth/email/verify-code)",
        "operationId": "signUpLocal",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/SignUpLocalRequest" }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponseSignUpResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/refresh": {
      "post": {
        "tags": ["사용자 인증"],
        "summary": "JWT 토큰 갱신",
        "description": "리프레시 토큰으로 새로운 토큰을 발급받습니다.\n\n필수 헤더:\n- Authorization: Bearer {refreshToken} 형식으로 리프레시 토큰 전달\n- X-Device-ID: 토큰을 갱신할 디바이스의 고유 ID\n\n디바이스 ID 관리:\n- 로그인 시 사용한 동일한 디바이스 ID를 전달해야 함\n- 다른 디바이스 ID로 갱신 시도 시 실패\n\n반환 내용:\n- 새로운 accessToken과 refreshToken",
        "operationId": "refreshToken",
        "parameters": [
          {
            "name": "X-Device-ID",
            "in": "header",
            "required": true,
            "schema": { "type": "string" }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponseRefreshTokenResponse"
                }
              }
            }
          }
        },
        "security": [{ "bearerAuth": [] }]
      }
    },
    "/api/v1/auth/logout": {
      "post": {
        "tags": ["사용자 인증"],
        "summary": "로그아웃",
        "description": "현재 기기에서 로그아웃합니다.\n\n필수 헤더:\n- Authorization: Bearer {accessToken} - 현재 사용 중인 액세스 토큰\n- X-Refresh-Token: 현재 디바이스의 리프레시 토큰\n- X-Device-ID: 로그인 시 사용한 디바이스 고유 ID\n\n디바이스 ID 관리:\n- 프론트엔드에서 UUID.randomUUID() 등으로 생성\n- 웹: localStorage, 모바일 앱: SecureStorage 등에 저장\n- 로그인 시 생성/저장한 동일한 ID를 로그아웃 시에도 사용\n\n동작 방식:\n- 해당 디바이스의 세션만 종료 (다른 기기는 유지)\n- 액세스 토큰은 블랙리스트에 추가\n- 리프레시 토큰은 무효화",
        "operationId": "logout",
        "parameters": [
          {
            "name": "X-Refresh-Token",
            "in": "header",
            "required": true,
            "schema": { "type": "string" }
          },
          {
            "name": "X-Device-ID",
            "in": "header",
            "required": true,
            "schema": { "type": "string" }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponseLogoutResponse"
                }
              }
            }
          }
        },
        "security": [{ "bearerAuth": [] }]
      }
    },
    "/api/v1/auth/login/local": {
      "post": {
        "tags": ["사용자 인증"],
        "summary": "일반 로그인",
        "description": "이메일과 비밀번호로 로그인합니다.\n\n반환 내용:\n- accessToken: API 호출 시 Authorization 헤더에 Bearer 형식으로 사용\n- refreshToken: 토큰 갱신 시 사용, 안전하게 저장 필요\n- 사용자 정보 (userId, email, nickname 등)\n\n디바이스 관리:\n- 다중 기기 로그인 지원을 위해 X-Device-ID 헤더를 선택적으로 전송 가능\n- 프론트엔드에서 UUID 생성 후 로컬 스토리지에 저장하여 사용 권장",
        "operationId": "localLogin",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/LocalLoginRequest" }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponseLocalLoginResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/login/kakao": {
      "post": {
        "tags": ["사용자 인증"],
        "summary": "카카오 소셜 로그인",
        "description": "RedirectURI 를 프론트 https://nugudi.com/api/auth/callback/kakao 로 설정하고 카카오로부터 전달받은 인가 코드를 백엔드에 전달합니다.\n\n반환 상태:\n- 기존 회원 (200 OK): accessToken과 refreshToken을 응답 바디에 반환\n- 신규 회원 (202 ACCEPTED): registrationToken을 응답 바디에 반환\n\n신규 회원의 경우:\n1. 반환받은 registrationToken을 저장\n2. /api/v1/auth/signup/social 엔드포인트 호출 시 X-Registration-Token 헤더에 해당 토큰을 포함\n3. 추가 정보(닉네임 등) 입력 후 회원가입 완료",
        "operationId": "kakaoLogin",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/KakaoLoginRequest" }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponseKakaoLoginResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/email/verify-code": {
      "post": {
        "tags": ["사용자 인증"],
        "summary": "이메일 인증 코드 확인",
        "description": "발송된 6자리 인증 코드를 확인합니다.\n\n인증 성공 시:\n- 해당 이메일이 인증 완료 상태로 변경\n- isVerified: true 반환\n\n인증 후 가능한 작업:\n- SIGNUP 목적: /api/v1/auth/signup/local로 회원가입 진행\n- RESET_PASSWORD 목적: 비밀번호 재설정 API 호출\n\n주의사항:\n- 코드는 5분 내에 입력해야 함\n- 3회 이상 잘못된 코드 입력 시 새로운 코드 발송 필요\n- 인증 완료 후 30분 내에 회원가입/비밀번호 재설정을 완료해야 함",
        "operationId": "verifyEmailCode",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/EmailVerifyRequest" }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponseEmailVerifyResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/email/send-code": {
      "post": {
        "tags": ["사용자 인증"],
        "summary": "이메일 인증 코드 발송",
        "description": "6자리 인증 코드를 이메일로 발송합니다.\n\n사용 목적(purpose):\n- SIGNUP: 회원가입 시 이메일 소유 확인\n- RESET_PASSWORD: 비밀번호 재설정 시 본인 확인\n\n재전송이 필요한 경우:\n- 이메일을 받지 못한 경우 (스팸함 확인 필요)\n- 5분이 지나 코드가 만료된 경우\n- 3회 이상 잘못된 코드를 입력한 경우\n- 기존 코드를 분실한 경우\n\n재전송 시 동작:\n- 기존 코드는 즉시 무효화됨\n- 새로운 6자리 코드가 생성되어 발송됨\n- 새 코드로만 인증 가능 (이전 코드 사용 불가)\n\n제한 사항:\n- 동일 이메일로 1시간 내 최대 5회 발송 가능\n- 재전송은 마지막 코드 발송으로부터 1분 후 재전송 가능 (쿨다운 시간)\n- 인증 코드는 5분간 유효\n\n발송 후 프로세스:\n1. 이메일로 전송된 6자리 코드 확인\n2. /api/v1/auth/email/verify-code로 코드 검증\n3. 회원가입 또는 비밀번호 재설정 진행",
        "operationId": "sendEmailVerificationCode",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/EmailVerificationRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponseEmailVerificationResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/users/nickname/availability": {
      "get": {
        "tags": ["사용자 프로필"],
        "summary": "닉네임 사용 가능 여부 확인",
        "description": "회원가입 시 닉네임 중복 여부를 확인합니다.\n\n검증 규칙:\n- 길이: 2~12자\n- 허용 문자: 한글, 영문(대소문자), 숫자만 가능\n- 특수문자, 공백, 이모지 사용 불가\n- 중복 체크 (이미 사용 중인 닉네임 차단)\n\n반환 값:\n- isAvailable: true (사용 가능) / false (사용 불가)\n- nickname: 검증한 닉네임\n- message: 사용 불가 시 구체적인 사유",
        "operationId": "checkNicknameAvailability",
        "parameters": [
          {
            "name": "nickname",
            "in": "query",
            "description": "확인할 닉네임 (2~12자, 한글/영문/숫자만)",
            "required": true,
            "schema": { "type": "string" }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponseNicknameCheckResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/users/me": {
      "get": {
        "tags": ["사용자 프로필"],
        "summary": "내 프로필 조회",
        "description": "로그인한 유저 본인의 프로필을 조회합니다",
        "operationId": "getMyProfile",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponseGetMyProfileResponse"
                }
              }
            }
          }
        },
        "security": [{ "bearerAuth": [] }]
      }
    }
  },
  "components": {
    "schemas": {
      "SignUpSocialRequest": {
        "required": [
          "deviceInfo",
          "locationInfo",
          "nickname",
          "privacyPolicy",
          "termsOfService"
        ],
        "type": "object",
        "properties": {
          "nickname": {
            "type": "string",
            "description": "닉네임",
            "example": "너구디유저"
          },
          "privacyPolicy": {
            "type": "boolean",
            "description": "개인정보 처리방침 약관 동의 여부"
          },
          "termsOfService": {
            "type": "boolean",
            "description": "이용약관 동의 여부"
          },
          "locationInfo": {
            "type": "boolean",
            "description": "위치정보 수집·이용약관 동의 여부 "
          },
          "marketingEmail": {
            "type": "boolean",
            "description": "마케팅 이메일 수신 동의 여부 (선택적, 기본값: false)"
          },
          "deviceInfo": { "$ref": "#/components/schemas/UserDeviceInfoDTO" }
        }
      },
      "UserDeviceInfoDTO": {
        "required": ["deviceType", "deviceUniqueId"],
        "type": "object",
        "properties": {
          "deviceType": {
            "type": "string",
            "description": "디바이스 타입",
            "example": "ANDROID",
            "enum": ["IOS", "ANDROID", "WEB", "IOS", "ANDROID", "WEB"]
          },
          "deviceUniqueId": {
            "type": "string",
            "description": "디바이스 고유 ID",
            "example": "550e8400-e29b-41d4-a716-446655440000"
          },
          "deviceName": {
            "type": "string",
            "description": "디바이스 이름",
            "example": "iPhone 15 Pro"
          },
          "deviceModel": {
            "type": "string",
            "description": "디바이스 모델",
            "example": "iPhone15,2"
          },
          "osVersion": {
            "type": "string",
            "description": "OS 버전",
            "example": "17.1.1"
          },
          "appVersion": {
            "type": "string",
            "description": "앱 버전",
            "example": "1.0.0"
          },
          "pushToken": {
            "type": "string",
            "description": "푸시 토큰 (알림 동의시에만 필수)",
            "example": "dHJhbnNhY3Rpb25faWQ6MTIzNDU2Nzg5MA=="
          }
        },
        "description": "디바이스 정보 (일반/소셜 공통)"
      },
      "SignUpResponse": {
        "type": "object",
        "properties": {
          "userId": {
            "type": "integer",
            "description": "사용자 ID",
            "format": "int64",
            "example": 123
          },
          "email": {
            "type": "string",
            "description": "사용자 이메일",
            "example": "user@nugudi.com"
          },
          "nickname": {
            "type": "string",
            "description": "사용자 닉네임",
            "example": "너구디유저"
          },
          "accessToken": {
            "type": "string",
            "description": "액세스 토큰",
            "example": "eyJhbGciOiJIUzI1NiJ9..."
          },
          "refreshToken": {
            "type": "string",
            "description": "리프레시 토큰",
            "example": "eyJhbGciOiJIUzI1NiJ9..."
          },
          "accessTokenExpiresAt": {
            "type": "string",
            "description": "액세스 토큰 만료 시간",
            "format": "date-time"
          },
          "refreshTokenExpiresAt": {
            "type": "string",
            "description": "리프레시 토큰 만료 시간",
            "format": "date-time"
          }
        },
        "description": "회원가입 성공 응답 (일반/소셜 공통)"
      },
      "SuccessResponseSignUpResponse": {
        "type": "object",
        "properties": {
          "timestamp": { "type": "string", "format": "date-time" },
          "success": { "type": "boolean" },
          "code": { "type": "integer", "format": "int32" },
          "message": { "type": "string" },
          "data": { "$ref": "#/components/schemas/SignUpResponse" }
        }
      },
      "SignUpLocalRequest": {
        "required": [
          "deviceInfo",
          "email",
          "locationInfo",
          "nickname",
          "password",
          "privacyPolicy",
          "termsOfService"
        ],
        "type": "object",
        "properties": {
          "nickname": {
            "type": "string",
            "description": "닉네임",
            "example": "너구디유저"
          },
          "email": {
            "type": "string",
            "description": "이메일",
            "example": "user@nugudi.com"
          },
          "password": {
            "type": "string",
            "description": "비밀번호 (최소 8자 이상, 최대 20자 이하, 영문/숫자/특수문자/대문자 1개 이상 포함)",
            "example": "SecurePass123!"
          },
          "privacyPolicy": {
            "type": "boolean",
            "description": "개인정보 처리방침 약관 동의 여부"
          },
          "termsOfService": {
            "type": "boolean",
            "description": "이용약관 동의 여부"
          },
          "locationInfo": {
            "type": "boolean",
            "description": "위치정보 수집·이용약관 동의 여부 "
          },
          "marketingEmail": {
            "type": "boolean",
            "description": "마케팅 이메일 수신 동의 여부 (선택적, 기본값: false)"
          },
          "deviceInfo": { "$ref": "#/components/schemas/UserDeviceInfoDTO" }
        },
        "description": "일반 회원가입 요청 정보"
      },
      "RefreshTokenResponse": {
        "type": "object",
        "properties": {
          "accessToken": {
            "type": "string",
            "description": "새로운 액세스 토큰",
            "example": "eyJhbGciOiJIUzI1NiJ9..."
          },
          "refreshToken": {
            "type": "string",
            "description": "새로운 리프레시 토큰",
            "example": "eyJhbGciOiJIUzI1NiJ9..."
          },
          "accessTokenExpiresAt": {
            "type": "string",
            "description": "액세스 토큰 만료 시간",
            "format": "date-time"
          },
          "refreshTokenExpiresAt": {
            "type": "string",
            "description": "리프레시 토큰 만료 시간",
            "format": "date-time"
          }
        },
        "description": "토큰 갱신 응답"
      },
      "SuccessResponseRefreshTokenResponse": {
        "type": "object",
        "properties": {
          "timestamp": { "type": "string", "format": "date-time" },
          "success": { "type": "boolean" },
          "code": { "type": "integer", "format": "int32" },
          "message": { "type": "string" },
          "data": { "$ref": "#/components/schemas/RefreshTokenResponse" }
        }
      },
      "LogoutResponse": {
        "type": "object",
        "properties": {
          "logoutAt": {
            "type": "string",
            "description": "로그아웃 처리 시간",
            "format": "date-time"
          }
        },
        "description": "로그아웃 응답"
      },
      "SuccessResponseLogoutResponse": {
        "type": "object",
        "properties": {
          "timestamp": { "type": "string", "format": "date-time" },
          "success": { "type": "boolean" },
          "code": { "type": "integer", "format": "int32" },
          "message": { "type": "string" },
          "data": { "$ref": "#/components/schemas/LogoutResponse" }
        }
      },
      "LocalLoginRequest": {
        "required": ["deviceInfo", "email", "password"],
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "description": "이메일",
            "example": "user@nugudi.com"
          },
          "password": {
            "type": "string",
            "description": "비밀번호",
            "example": "SecurePass123!"
          },
          "deviceInfo": { "$ref": "#/components/schemas/UserDeviceInfoDTO" }
        },
        "description": "일반 로그인 요청"
      },
      "LocalLoginResponse": {
        "type": "object",
        "properties": {
          "userId": {
            "type": "integer",
            "description": "사용자 ID",
            "format": "int64",
            "example": 1
          },
          "email": {
            "type": "string",
            "description": "사용자 이메일",
            "example": "user@nugudi.com"
          },
          "nickname": {
            "type": "string",
            "description": "사용자 닉네임",
            "example": "너구디유저"
          },
          "profileImageUrl": {
            "type": "string",
            "description": "프로필 이미지 URL",
            "example": "https://cdn.nugudi.com/profile/123.jpg"
          },
          "accessToken": {
            "type": "string",
            "description": "액세스 토큰",
            "example": "eyJhbGciOiJIUzI1NiJ9..."
          },
          "refreshToken": {
            "type": "string",
            "description": "리프레시 토큰",
            "example": "eyJhbGciOiJIUzI1NiJ9..."
          },
          "accessTokenExpiresAt": {
            "type": "string",
            "description": "액세스 토큰 만료 시간",
            "format": "date-time"
          },
          "refreshTokenExpiresAt": {
            "type": "string",
            "description": "리프레시 토큰 만료 시간",
            "format": "date-time"
          }
        },
        "description": "일반 로그인 응답"
      },
      "SuccessResponseLocalLoginResponse": {
        "type": "object",
        "properties": {
          "timestamp": { "type": "string", "format": "date-time" },
          "success": { "type": "boolean" },
          "code": { "type": "integer", "format": "int32" },
          "message": { "type": "string" },
          "data": { "$ref": "#/components/schemas/LocalLoginResponse" }
        }
      },
      "KakaoLoginRequest": {
        "required": ["code", "deviceInfo"],
        "type": "object",
        "properties": {
          "code": {
            "type": "string",
            "description": "카카오 OAuth 인가 코드 (카카오 로그인 후 발급받은 authorization code)",
            "example": "mMJrjSJksVH3Z8xK8GQ_Vs..."
          },
          "deviceInfo": { "$ref": "#/components/schemas/UserDeviceInfoDTO" }
        },
        "description": "카카오 소셜 로그인 요청"
      },
      "KakaoLoginResponse": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string",
            "description": "카카오 로그인 상태",
            "example": "EXISTING_USER",
            "enum": ["EXISTING_USER", "NEW_USER"]
          },
          "userId": {
            "type": "integer",
            "description": "사용자 ID (기존 회원인 경우)",
            "format": "int64",
            "example": 1
          },
          "nickname": {
            "type": "string",
            "description": "사용자 닉네임 (기존 회원인 경우)",
            "example": "너구디유저"
          },
          "profileImageUrl": {
            "type": "string",
            "description": "프로필 이미지 URL",
            "example": "https://cdn.nugudi.com/profile/123.jpg"
          },
          "accessToken": {
            "type": "string",
            "description": "액세스 토큰 (기존 회원인 경우)",
            "example": "eyJhbGciOiJIUzI1NiJ9..."
          },
          "refreshToken": {
            "type": "string",
            "description": "리프레시 토큰 (기존 회원인 경우)",
            "example": "eyJhbGciOiJIUzI1NiJ9..."
          },
          "accessTokenExpiresAt": {
            "type": "string",
            "description": "액세스 토큰 만료 시간",
            "format": "date-time"
          },
          "refreshTokenExpiresAt": {
            "type": "string",
            "description": "리프레시 토큰 만료 시간",
            "format": "date-time"
          },
          "registrationToken": {
            "type": "string",
            "description": "등록 토큰 (신규 회원인 경우)",
            "example": "eyJhbGciOiJIUzI1NiJ9..."
          },
          "registrationTokenExpiresAt": {
            "type": "string",
            "description": "등록 토큰 만료 시간 (신규 회원인 경우)",
            "format": "date-time"
          }
        },
        "description": "카카오 로그인 응답"
      },
      "SuccessResponseKakaoLoginResponse": {
        "type": "object",
        "properties": {
          "timestamp": { "type": "string", "format": "date-time" },
          "success": { "type": "boolean" },
          "code": { "type": "integer", "format": "int32" },
          "message": { "type": "string" },
          "data": { "$ref": "#/components/schemas/KakaoLoginResponse" }
        }
      },
      "EmailVerifyRequest": {
        "required": ["code", "email", "purpose"],
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "description": "이메일",
            "example": "user@nugudi.com"
          },
          "code": {
            "type": "string",
            "description": "인증 코드",
            "example": "123456"
          },
          "purpose": {
            "type": "string",
            "description": "인증 목적 (SIGNUP: 회원가입, PASSWORD_RESET: 비밀번호 재설정)",
            "example": "SIGNUP",
            "enum": ["SIGNUP", "PASSWORD_RESET"]
          }
        },
        "description": "이메일 인증 코드 확인 요청"
      },
      "EmailVerifyResponse": {
        "type": "object",
        "properties": {
          "verified": {
            "type": "boolean",
            "description": "인증 성공 여부",
            "example": true
          }
        },
        "description": "이메일 인증 코드 확인 응답"
      },
      "SuccessResponseEmailVerifyResponse": {
        "type": "object",
        "properties": {
          "timestamp": { "type": "string", "format": "date-time" },
          "success": { "type": "boolean" },
          "code": { "type": "integer", "format": "int32" },
          "message": { "type": "string" },
          "data": { "$ref": "#/components/schemas/EmailVerifyResponse" }
        }
      },
      "EmailVerificationRequest": {
        "required": ["email", "purpose"],
        "type": "object",
        "properties": {
          "email": {
            "type": "string",
            "description": "이메일",
            "example": "user@nugudi.com"
          },
          "purpose": {
            "type": "string",
            "description": "인증 목적 (SIGNUP: 회원가입, PASSWORD_RESET: 비밀번호 재설정)",
            "example": "SIGNUP",
            "enum": ["SIGNUP", "PASSWORD_RESET"]
          }
        },
        "description": "이메일 인증 코드 발송 요청"
      },
      "EmailVerificationResponse": {
        "type": "object",
        "properties": {
          "expiresInSeconds": {
            "type": "integer",
            "description": "만료 시간(초)",
            "format": "int64",
            "example": 300
          }
        },
        "description": "이메일 인증 코드 발송 응답"
      },
      "SuccessResponseEmailVerificationResponse": {
        "type": "object",
        "properties": {
          "timestamp": { "type": "string", "format": "date-time" },
          "success": { "type": "boolean" },
          "code": { "type": "integer", "format": "int32" },
          "message": { "type": "string" },
          "data": { "$ref": "#/components/schemas/EmailVerificationResponse" }
        }
      },
      "NicknameCheckResponse": {
        "type": "object",
        "properties": {
          "nickname": {
            "type": "string",
            "description": "확인한 닉네임",
            "example": "너구디유저"
          },
          "available": {
            "type": "boolean",
            "description": "사용 가능한지 여부",
            "example": true
          }
        },
        "description": "닉네임 사용 가능 여부 확인 응답"
      },
      "SuccessResponseNicknameCheckResponse": {
        "type": "object",
        "properties": {
          "timestamp": { "type": "string", "format": "date-time" },
          "success": { "type": "boolean" },
          "code": { "type": "integer", "format": "int32" },
          "message": { "type": "string" },
          "data": { "$ref": "#/components/schemas/NicknameCheckResponse" }
        }
      },
      "GetMyProfileResponse": {
        "type": "object",
        "properties": {
          "profile": { "$ref": "#/components/schemas/UserProfileDTO" },
          "account": { "$ref": "#/components/schemas/UserAccountDTO" },
          "health": { "$ref": "#/components/schemas/HealthInfoDTO" }
        }
      },
      "HealthInfoDTO": {
        "type": "object",
        "properties": {
          "height": { "type": "integer", "format": "int32" },
          "weight": { "type": "number" }
        }
      },
      "SuccessResponseGetMyProfileResponse": {
        "type": "object",
        "properties": {
          "timestamp": { "type": "string", "format": "date-time" },
          "success": { "type": "boolean" },
          "code": { "type": "integer", "format": "int32" },
          "message": { "type": "string" },
          "data": { "$ref": "#/components/schemas/GetMyProfileResponse" }
        }
      },
      "UserAccountDTO": {
        "type": "object",
        "properties": {
          "provider": {
            "type": "string",
            "enum": ["LOCAL", "GOOGLE", "APPLE", "KAKAO", "NAVER"]
          },
          "email": { "type": "string" }
        }
      },
      "UserProfileDTO": {
        "type": "object",
        "properties": {
          "userId": { "type": "integer", "format": "int64" },
          "nickname": { "type": "string" },
          "profileImageUrl": { "type": "string" },
          "joinDate": { "type": "string", "format": "date" }
        }
      }
    },
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "description": "JWT Bearer 토큰을 입력하세요. (Bearer 접두사는 자동으로 추가됩니다)",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      }
    }
  }
}
